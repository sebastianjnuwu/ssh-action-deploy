name: ssh-action-uwu
description: 'Run commands on your vps after deploy'
author: 'sebastianjnuwu'
branding:
  icon: 'terminal'
  color: 'gray-dark'

inputs:
  LOGIN:
    description: ''
    required: true
  KEY:
    description: ''
    required: true
  RUN: 
    description: ''
    required: true

runs:
  using: 'composite'
  steps:
    - name: üóø Setting up ssh...
      run: |
        mkdir -p .ssh
        echo "${{ inputs.KEY }}" > .ssh/id_rsa
        chmod 0600 .ssh/id_rsa
        
      shell: bash
    - name: üç∑ Executing commands...
      run: ssh -o StrictHostKeyChecking=no "${{ inputs.LOGIN }}" "${{ inputs.RUN }}; exit"
      shell: bash
